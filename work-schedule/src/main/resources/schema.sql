DROP TABLE IF EXISTS WORK_SCHEDULE;
DROP TABLE IF EXISTS TASK;
CREATE TABLE IF NOT EXISTS TASK (
  ID_TASK INT GENERATED BY DEFAULT AS IDENTITY,
  PRIORITY INT NOT NULL,
  DESCRIPTION VARCHAR(1024) NOT NULL,
  REQUIRED_ROLE VARCHAR(16) NOT NULL,
  PRIMARY KEY (ID_TASK)
);
CREATE TABLE IF NOT EXISTS WORK_SCHEDULE (
  ID_WORK_SCHEDULE INT GENERATED BY DEFAULT AS IDENTITY,
  ID_USER INT NOT NULL,
  ID_TASK INT NOT NULL,
  WEEKDAY SMALLINT NOT NULL,
  START_TIME TIME NOT NULL,
  END_TIME TIME NOT NULL,
  SCHEDULE_START_DATE DATE NOT NULL,
  SCHEDULE_END_DATE DATE NOT NULL,
  PRIMARY KEY (ID_WORK_SCHEDULE)
);
ALTER TABLE WORK_SCHEDULE
ADD CONSTRAINT FK_TASK FOREIGN KEY (ID_TASK) REFERENCES TASK (ID_TASK);